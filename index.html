<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Vica Doubles - Math Domino for Kids</title>
    <link rel="stylesheet" href="css/style.css?v=winning-animation-1">
</head>
<body>
    <div class="game-container">
        <!-- Start Screen -->
        <div class="screen" id="start-screen">
            <h1>Vica Doubles</h1>
            <p class="subtitle">Math Domino for Kids - Introductory Level Game</p>

            <div class="setup-panel">
                <h3>Choose your game:</h3>
                <div class="game-level-select">
                    <div class="level-btn-wrapper">
                        <button class="level-btn selected" data-level="circle" title="Sunny Level">
                            <svg viewBox="0 0 100 100" width="50" height="50">
                                <!-- Triangle rays pointing outward -->
                                <polygon points="50,3 42,22 58,22" fill="#FFA500"/>
                                <polygon points="50,97 42,78 58,78" fill="#FFA500"/>
                                <polygon points="3,50 22,42 22,58" fill="#FFA500"/>
                                <polygon points="97,50 78,42 78,58" fill="#FFA500"/>
                                <polygon points="14,14 30,22 22,30" fill="#FFA500"/>
                                <polygon points="86,86 70,78 78,70" fill="#FFA500"/>
                                <polygon points="86,14 78,30 70,22" fill="#FFA500"/>
                                <polygon points="14,86 22,70 30,78" fill="#FFA500"/>
                                <!-- Sun face -->
                                <circle cx="50" cy="50" r="28" fill="#FFD700"/>
                                <circle cx="50" cy="50" r="28" fill="none" stroke="#FFA500" stroke-width="2"/>
                                <!-- Rosy cheeks -->
                                <circle cx="32" cy="55" r="5" fill="#FF9999" opacity="0.6"/>
                                <circle cx="68" cy="55" r="5" fill="#FF9999" opacity="0.6"/>
                                <!-- Big cute eyes -->
                                <circle cx="40" cy="46" r="8" fill="white" stroke="#333" stroke-width="1"/>
                                <circle cx="60" cy="46" r="8" fill="white" stroke="#333" stroke-width="1"/>
                                <!-- Pupils -->
                                <circle cx="42" cy="47" r="4" fill="#333"/>
                                <circle cx="62" cy="47" r="4" fill="#333"/>
                                <!-- Eye highlights -->
                                <circle cx="38" cy="44" r="2" fill="white"/>
                                <circle cx="58" cy="44" r="2" fill="white"/>
                                <!-- Small mouth with lips -->
                                <ellipse cx="50" cy="62" rx="6" ry="4" fill="#FF6B6B"/>
                                <path d="M44 62 Q50 66 56 62" stroke="#CC4444" stroke-width="1" fill="none"/>
                            </svg>
                        </button>
                        <span class="level-label">2 dominos</span>
                    </div>
                    <div class="level-btn-wrapper">
                        <button class="level-btn" data-level="triangle" title="Alien Level">
                            <svg viewBox="0 0 100 100" width="50" height="50">
                                <!-- Alien body (triangle) -->
                                <polygon points="50,8 92,75 8,75" fill="#7CFC00" stroke="#32CD32" stroke-width="3"/>
                                <!-- Three eyes -->
                                <circle cx="50" cy="35" r="6" fill="white" stroke="#333" stroke-width="1"/>
                                <circle cx="50" cy="35" r="3" fill="#333"/>
                                <circle cx="35" cy="55" r="5" fill="white" stroke="#333" stroke-width="1"/>
                                <circle cx="35" cy="55" r="2.5" fill="#333"/>
                                <circle cx="65" cy="55" r="5" fill="white" stroke="#333" stroke-width="1"/>
                                <circle cx="65" cy="55" r="2.5" fill="#333"/>
                                <!-- Legs -->
                                <line x1="30" y1="75" x2="25" y2="95" stroke="#32CD32" stroke-width="5" stroke-linecap="round"/>
                                <line x1="70" y1="75" x2="75" y2="95" stroke="#32CD32" stroke-width="5" stroke-linecap="round"/>
                                <!-- Feet -->
                                <ellipse cx="25" cy="96" rx="6" ry="3" fill="#32CD32"/>
                                <ellipse cx="75" cy="96" rx="6" ry="3" fill="#32CD32"/>
                            </svg>
                        </button>
                        <span class="level-label">3 dominos</span>
                    </div>
                    <div class="level-btn-wrapper">
                        <button class="level-btn" data-level="star" title="Sunflower Level">
                            <svg viewBox="0 0 100 100" width="50" height="50">
                                <!-- Petals -->
                                <ellipse cx="50" cy="20" rx="10" ry="18" fill="#FFD700"/>
                                <ellipse cx="50" cy="80" rx="10" ry="18" fill="#FFD700"/>
                                <ellipse cx="20" cy="50" rx="18" ry="10" fill="#FFD700"/>
                                <ellipse cx="80" cy="50" rx="18" ry="10" fill="#FFD700"/>
                                <ellipse cx="28" cy="28" rx="10" ry="16" fill="#FFD700" transform="rotate(-45 28 28)"/>
                                <ellipse cx="72" cy="28" rx="10" ry="16" fill="#FFD700" transform="rotate(45 72 28)"/>
                                <ellipse cx="28" cy="72" rx="10" ry="16" fill="#FFD700" transform="rotate(45 28 72)"/>
                                <ellipse cx="72" cy="72" rx="10" ry="16" fill="#FFD700" transform="rotate(-45 72 72)"/>
                                <!-- Center -->
                                <circle cx="50" cy="50" r="18" fill="#8B4513"/>
                                <circle cx="50" cy="50" r="18" fill="none" stroke="#654321" stroke-width="2"/>
                                <!-- Seeds pattern -->
                                <circle cx="45" cy="45" r="2" fill="#333"/>
                                <circle cx="55" cy="45" r="2" fill="#333"/>
                                <circle cx="50" cy="52" r="2" fill="#333"/>
                                <circle cx="43" cy="55" r="2" fill="#333"/>
                                <circle cx="57" cy="55" r="2" fill="#333"/>
                            </svg>
                        </button>
                        <span class="level-label">4 dominos</span>
                    </div>
                </div>

                <h3>How many players?</h3>
                <div class="player-select">
                    <button class="player-btn" data-players="1" data-xeno="true">1 Player + Xeno ‚è≥</button>
                    <button class="player-btn" data-players="2" data-xeno="false">2 Players</button>
                    <button class="player-btn" data-players="2" data-xeno="true">2 Players + Xeno ‚è≥</button>
                </div>

                <!-- Xeno Icon SVG -->
                <svg id="xeno-icon" style="display:none" viewBox="0 0 100 100">
                    <defs>
                        <linearGradient id="xenoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#FF69B4"/>
                            <stop offset="100%" style="stop-color:#FF1493"/>
                        </linearGradient>
                    </defs>
                    <!-- Body -->
                    <ellipse cx="50" cy="45" rx="20" ry="25" fill="url(#xenoGradient)"/>
                    <!-- Head -->
                    <ellipse cx="50" cy="18" rx="15" ry="12" fill="url(#xenoGradient)"/>
                    <!-- Eyes -->
                    <ellipse cx="44" cy="16" rx="5" ry="6" fill="white"/>
                    <ellipse cx="56" cy="16" rx="5" ry="6" fill="white"/>
                    <circle cx="44" cy="16" r="2.5" fill="black"/>
                    <circle cx="56" cy="16" r="2.5" fill="black"/>
                    <!-- Antennae -->
                    <line x1="42" y1="8" x2="35" y2="0" stroke="#FF69B4" stroke-width="2" stroke-linecap="round"/>
                    <circle cx="35" cy="0" r="3" fill="#FF1493"/>
                    <line x1="58" y1="8" x2="65" y2="0" stroke="#FF69B4" stroke-width="2" stroke-linecap="round"/>
                    <circle cx="65" cy="0" r="3" fill="#FF1493"/>
                    <!-- Upper Arms (pair 1) -->
                    <path d="M30 35 Q15 30 10 40" stroke="url(#xenoGradient)" stroke-width="5" fill="none" stroke-linecap="round"/>
                    <path d="M70 35 Q85 30 90 40" stroke="url(#xenoGradient)" stroke-width="5" fill="none" stroke-linecap="round"/>
                    <!-- Lower Arms (pair 2) -->
                    <path d="M32 50 Q15 55 8 50" stroke="url(#xenoGradient)" stroke-width="5" fill="none" stroke-linecap="round"/>
                    <path d="M68 50 Q85 55 92 50" stroke="url(#xenoGradient)" stroke-width="5" fill="none" stroke-linecap="round"/>
                    <!-- Tail -->
                    <path d="M50 70 Q55 80 45 90 Q40 95 50 98" stroke="url(#xenoGradient)" stroke-width="6" fill="none" stroke-linecap="round"/>
                    <!-- Smile -->
                    <path d="M43 22 Q50 28 57 22" stroke="#FF1493" stroke-width="2" fill="none" stroke-linecap="round"/>
                </svg>

                <div class="player-names" id="player-names" style="display: none;">
                    <h3>Enter player names:</h3>
                    <div id="name-inputs"></div>
                    <button class="btn btn-primary" id="start-game-btn">Start Game</button>
                </div>
            </div>
        </div>

        <!-- Game Screen -->
        <div class="screen" id="game-screen" style="display: none;">
            <header>
                <h1>Vica Doubles</h1>
                <div class="turn-indicator">
                    <span id="current-player-name">Player 1</span>'s turn
                </div>
            </header>

            <!-- Status Message -->
            <div class="status" id="status-message">Select the highest double to start!</div>

            <main>
                <!-- Game Board -->
                <div class="board-container">
                    <div class="board" id="game-board">
                        <div class="board-placeholder">Waiting for highest double...</div>
                    </div>
                    <!-- Celebration area -->
                    <div class="celebration-area" id="celebration-area" style="display: none;">
                        <div class="celebration-emoji">üéâ</div>
                    </div>
                </div>

                <!-- All Players' Hands (open game) -->
                <div class="players-area" id="players-area">
                    <!-- Player hands will be generated here -->
                </div>

                <!-- Xeno Timer Box (for Sun Level) -->
                <div class="xeno-timer-box" id="xeno-timer-box" style="display: none;">
                    <div class="xeno-timer-header">
                        <span class="xeno-timer-icon" id="xeno-timer-icon"></span>
                        <span class="xeno-timer-name">Xeno's Timer</span>
                    </div>
                    <div class="xeno-timer-content">
                        <svg viewBox="0 0 120 120" class="timer-svg">
                            <!-- Background circle -->
                            <circle cx="60" cy="60" r="50" fill="none" stroke="rgba(255,255,255,0.3)" stroke-width="8"/>
                            <!-- Progress circle (countdown) -->
                            <circle cx="60" cy="60" r="50" fill="none" stroke="#4CAF50" stroke-width="8"
                                    stroke-dasharray="314" stroke-dashoffset="0"
                                    transform="rotate(-90 60 60)" class="timer-progress"/>
                            <!-- Tick marks -->
                            <g class="timer-ticks" id="timer-ticks"></g>
                        </svg>
                        <div class="timer-display" id="timer-display">5</div>
                    </div>
                </div>

                <!-- Bank -->
                <div class="bank-area">
                    <div class="bank" id="bank">
                        <div class="bank-icon-wrapper">
                            <span class="bank-icon">üèõÔ∏è</span>
                            <span class="bank-dollar-overlay">$</span>
                        </div>
                        <div class="bank-info">
                            <span id="bank-count">0</span> dominos
                        </div>
                    </div>
                    <button class="btn btn-draw" id="draw-btn" disabled>
                        Draw from Bank
                    </button>
                </div>
            </main>

            <!-- Game Controls -->
            <div class="controls">
                <button class="btn btn-secondary" id="pass-btn" disabled>Skip Turn</button>
                <button class="btn btn-secondary" id="new-game-btn">New Game</button>
            </div>
        </div>

        <!-- Winner Modal -->
        <div class="modal" id="winner-modal">
            <div class="modal-content">
                <div id="single-winner-content">
                    <h2 id="winner-heading">üéâ Winner! üéâ</h2>
                    <p id="winner-name">Player 1 wins!</p>
                    <p id="winner-says" class="winner-speech">"I Won!"</p>
                </div>
                <div id="circle-winners-content" style="display: none;">
                    <h2>üéâ Circle of Winners! üéâ</h2>
                    <p id="winners-names">Players win together!</p>
                    <div class="we-won-animation" id="we-won-animation">
                        <span class="we-won-text">"We Won!"</span>
                    </div>
                </div>
                <button class="btn btn-primary" id="play-again-btn">Play Again</button>
            </div>
        </div>

        <!-- Winner Celebration Container (for sparkles) -->
        <div class="winner-celebration" id="winner-celebration"></div>

        <!-- Winner Banner (shows when someone wins) -->
        <div class="winner-banner" id="winner-banner" style="display: none;">
            <h2>Here is the <span id="winner-ordinal">first</span> winner!</h2>
            <div class="winner-name" id="banner-winner-name">Player Name</div>
        </div>
    </div>

    <script src="js/domino.js?v=xeno-fix-3"></script>
    <script src="js/game.js?v=press-left-1"></script>
</body>
</html>
